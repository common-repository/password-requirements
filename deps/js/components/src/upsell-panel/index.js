/**
 * External dependencies
 */
import PropTypes from 'prop-types';

/**
 * WordPress dependencies
 */
import { PanelBody } from '@wordpress/components';
import { __, sprintf } from '@wordpress/i18n';
import { SVG, Path } from '@wordpress/primitives';

/**
 * Import styles
 */
import './styles.scss';

/**
 * The "upsell" panel
 *
 * @param {Object} properties          Component properties object.
 * @param {string} properties.url      URL for the action button.
 * @param {Array}  properties.benefits List of benefits of the advertised product.
 *
 * @return {JSX} The UpsellPanel panel component.
 */
export const UpsellPanel = ( { url, benefits } ) => {
	// Build the SVG ID prefix.
	const prefix = 'ts-upsell-panel-icon';

	/**
	 * Render the UpsellPanel component
	 *
	 * @return {JSX} The UpsellPanel panel component.
	 */
	return (
		<PanelBody
			title={ __( 'Buy the PRO version', 'password-requirements' ) }
			initialOpen={ true }
			className="tsc-upsell-panel"
		>
			{
				( 0 < benefits.length ) && (
					<ul>
						{ benefits.map( ( benefit, index ) => (
							<li key={ index }>
								{ benefit }
							</li>
						) ) }
					</ul>
				)
			}
			<SVG
				xmlns="http://www.w3.org/2000/svg"
				width="512"
				height="512"
				viewBox="0 0 511.958 511.958"
				className="tsc-upsell-panel__background-icon"
			>
				<linearGradient
					id={ sprintf( '%s-a', prefix ) }
					x1="255.979"
					x2="255.979"
					y1="511.958"
					y2="0"
					gradientUnits="userSpaceOnUse"
				>
					<stop
						offset="0"
						stopColor="#fd5900"
					/>
					<stop
						offset="1"
						stopColor="#ffde00"
					/>
				</linearGradient>
				<Path
					fill={ sprintf( 'url(#%s-a)', prefix ) }
					d="M255.979 74.979c-99.371 0-181 81.651-181 181 0 99.371 81.651 181 181 181 99.371 0 181-81.651 181-181 0-99.371-81.652-181-181-181zm0 332c-83.262 0-151-67.738-151-151s67.738-151 151-151 151 67.738 151 151-67.739 151-151 151zM507.1 276.466c6.477-12.829 6.477-28.146 0-40.975l-6.707-13.285a15.376 15.376 0 0 1-1.478-9.328l2.273-14.707c2.196-14.202-2.537-28.77-12.662-38.969l-10.483-10.562a15.369 15.369 0 0 1-4.288-8.416l-2.382-14.69c-2.276-14.028-11.105-26.302-23.66-32.927 0 0-13.402-7.895-13.66-8.027a15.359 15.359 0 0 1-6.677-6.678l-6.806-13.234c-6.417-12.48-19.502-21.709-34.149-24.085l-14.689-2.382a15.38 15.38 0 0 1-8.416-4.287L352.755 23.43c-10.199-10.124-24.764-14.854-38.968-12.662l-14.707 2.273a15.369 15.369 0 0 1-9.329-1.477l-13.285-6.707c-12.828-6.476-28.145-6.477-40.973 0l-13.286 6.707a15.394 15.394 0 0 1-9.328 1.478l-14.707-2.273c-14.205-2.197-28.77 2.538-38.969 12.662L148.64 33.914a15.369 15.369 0 0 1-8.415 4.288l-14.691 2.382c-14.646 2.376-27.731 11.604-34.148 24.085l-6.805 13.234a15.369 15.369 0 0 1-6.679 6.678l-13.235 6.806c-12.48 6.417-21.709 19.502-24.084 34.148L38.2 140.226a15.366 15.366 0 0 1-4.288 8.415L23.43 159.203c-10.124 10.199-14.857 24.766-12.662 38.968l2.274 14.708a15.36 15.36 0 0 1-1.478 9.327l-6.707 13.285c-6.476 12.828-6.476 28.145 0 40.974l6.707 13.285a15.376 15.376 0 0 1 1.478 9.328l-2.274 14.708c-2.195 14.202 2.539 28.769 12.662 38.968l10.484 10.563a15.365 15.365 0 0 1 4.288 8.416l2.383 14.689c2.375 14.647 11.604 27.732 24.084 34.149l13.234 6.805a15.371 15.371 0 0 1 6.679 6.679l6.805 13.235c6.418 12.48 19.503 21.709 34.149 24.084l14.69 2.383a15.374 15.374 0 0 1 8.415 4.287l10.563 10.485c10.201 10.124 24.767 14.854 38.968 12.661l14.708-2.274a15.367 15.367 0 0 1 9.327 1.478l13.286 6.707a45.47 45.47 0 0 0 20.486 4.857 45.471 45.471 0 0 0 20.487-4.857l13.285-6.707a15.386 15.386 0 0 1 9.328-1.478l14.707 2.273c14.202 2.194 28.769-2.538 38.969-12.662l10.562-10.484a15.368 15.368 0 0 1 8.416-4.288l14.689-2.383c14.028-2.275 26.303-11.104 32.928-23.66 0 0 7.895-13.402 8.027-13.66a15.372 15.372 0 0 1 6.678-6.678l13.234-6.805c12.78-6.571 21.784-18.963 24.085-33.149l2.382-14.689a15.375 15.375 0 0 1 4.288-8.416c.159-.16.314-.324.465-.491l10.281-11.337c9.943-10.186 14.576-24.624 12.399-38.702l-2.273-14.707a15.371 15.371 0 0 1 1.477-9.329zm-26.78-13.52-6.707 13.284c-4.3 8.517-5.802 18.002-4.345 27.432l2.274 14.708a15.512 15.512 0 0 1-4.306 13.25c-.159.16-.314.324-.466.491l-10.279 11.335c-6.573 6.729-10.84 15.186-12.349 24.482l-2.382 14.689a15.514 15.514 0 0 1-8.19 11.272l-13.235 6.806c-8.343 4.291-15.048 10.928-19.417 19.215 0 0-7.894 13.401-8.026 13.659a15.513 15.513 0 0 1-11.272 8.189l-14.69 2.383a45.208 45.208 0 0 0-24.747 12.609l-10.562 10.484a15.53 15.53 0 0 1-13.251 4.306l-14.707-2.273a45.187 45.187 0 0 0-27.433 4.345l-13.284 6.707a15.518 15.518 0 0 1-13.934 0l-13.285-6.707c-6.406-3.234-13.359-4.886-20.424-4.886-2.329 0-4.67.179-7.008.541l-14.708 2.274a15.522 15.522 0 0 1-13.25-4.305l-10.562-10.484a45.205 45.205 0 0 0-24.746-12.609l-14.691-2.383c-5.26-.853-10.191-4.144-12.271-8.189l-6.806-13.235a45.212 45.212 0 0 0-19.639-19.639l-13.235-6.805c-4.045-2.08-7.336-7.012-8.189-12.272l-2.383-14.689a45.2 45.2 0 0 0-12.609-24.748L44.722 331.62a15.518 15.518 0 0 1-4.306-13.251l2.273-14.707a45.195 45.195 0 0 0-4.345-27.433l-6.707-13.284a15.515 15.515 0 0 1 0-13.934l6.707-13.284c4.3-8.518 5.803-18.004 4.345-27.432l-2.273-14.707a15.513 15.513 0 0 1 4.306-13.251l10.483-10.562c6.722-6.772 11.083-15.33 12.609-24.747l2.383-14.691c.853-5.26 4.144-10.191 8.189-12.271l13.234-6.806c8.485-4.362 15.276-11.153 19.64-19.639l6.805-13.235c2.08-4.045 7.012-7.337 12.272-8.19l14.691-2.382a45.205 45.205 0 0 0 24.746-12.609l10.562-10.483a15.528 15.528 0 0 1 13.251-4.306l14.708 2.274c9.429 1.456 18.915-.045 27.432-4.345l13.285-6.707a15.52 15.52 0 0 1 13.933 0l13.284 6.707c8.517 4.3 18.002 5.801 27.432 4.345l14.708-2.274c4.83-.742 9.783.863 13.25 4.305l10.562 10.484a45.198 45.198 0 0 0 24.747 12.609l14.689 2.382c5.261.853 10.192 4.145 12.272 8.19l6.806 13.234c4.29 8.343 10.928 15.049 19.215 19.418 0 0 13.401 7.894 13.659 8.026a15.513 15.513 0 0 1 8.189 11.272l2.382 14.69a45.215 45.215 0 0 0 12.609 24.747l10.484 10.562a15.52 15.52 0 0 1 4.306 13.251l-2.274 14.708c-1.457 9.43.045 18.916 4.345 27.432l6.707 13.285a15.514 15.514 0 0 1 .003 13.935zm-128.25-65.674a15.003 15.003 0 0 0-18.544 5.345c-3.314 4.935-18.551 23.363-32.547 23.363-2.484 0-10.18-5.782-18.108-23.656-7.113-16.035-11.892-36.668-11.892-51.344 0-8.284-6.716-15-15-15s-15 6.716-15 15c0 14.676-4.779 35.309-11.892 51.344-7.929 17.874-15.624 23.656-18.108 23.656-13.593 0-28.442-17.329-32.547-23.363a15.001 15.001 0 0 0-27.005 12.001l30 120a14.98 14.98 0 0 0 14.552 11.352h120a14.98 14.98 0 0 0 14.552-11.352l30-120a15 15 0 0 0-8.461-17.346zm-47.803 118.707H207.69L191.7 252.02c5.935 2.433 12.399 3.959 19.278 3.959 19.695 0 34.849-17.85 45-40.094 10.151 22.244 25.305 40.094 45 40.094 6.879 0 13.343-1.527 19.278-3.959z"
				/>
			</SVG>
			<p>
				<a
					href={ url }
					target="_blank"
					rel="noreferrer noopener"
					className="components-button is-primary is-compact"
				>
					{
						sprintf(
							'%s â†’',
							__( 'Buy the PRO version', 'password-requirements' ),
						)
					}
				</a>
			</p>
		</PanelBody>
	);
};

/**
 * Props validation
 */
UpsellPanel.propTypes = {
	url: PropTypes.string.isRequired,
	benefits: PropTypes.arrayOf( PropTypes.string ).isRequired,
};
